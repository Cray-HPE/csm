# XXX dtr.dev.cray.com/baseos
arti.dev.cray.com/baseos-docker-master-local:
  tls-verify: true
  images:
    alpine:
    #- 3.11.5 # XXX missing
    #- 3.12.0 # XXX missing
    - 3.12
    busybox:
    - '1' # update platform.yaml cray-precache-images with this
    - 1.31.1
    ubuntu:
    - 'bionic'

# XXX dtr.dev.cray.com
arti.dev.cray.com/third-party-docker-stable-local:
  tls-verify: true
  images:
    alpine/git:
    - 1.0.15

    gitea/gitea: # XXX cache/gitea
    - 1.12.2
    nginx: # XXX cache/nginx
    - 1.18.0
    cache/postgres:
    - '10.3'
    docker.io/library/postgres:
    - '13.2'
    wrouesnel/postgres_exporter: # XXX cache/postgres-exporter
    - 0.8.2

    # FIXME Someone is using e.g., registry.local/docker.io/centos:7 instead of
    # FIXME dtr.dev.cray.com/baseos/centos:7
    docker.io/centos:
    - '7'

    ghcr.io/banzaicloud/bank-vaults: # XXX banzaicloud/bank-vaults
    - 1.8.0
    ghcr.io/banzaicloud/vault-operator: # XXX banzaicloud/vault-operator
    - 1.8.0
    # FIXME bats/bats:v1.1.0 is not available on DTR
    #bats/bats:
    #- v1.1.0
    docker.io/bitnami/external-dns: # XXX bitnami/external-dns
    - 0.5.16-debian-9-r8
    bitnami/minideb:
    - stretch
    coredns/coredns:
    - 1.6.2
    curlimages/curl:
    - 7.73.0
    docker.io/grafana/grafana: # XXX grafana/grafana
    - 7.0.5  # istio 1.7.8
    grafana/grafana:
    - 7.0.3
    istio/kubectl:
    # FIXME Used by cray-node-labels chart, could use a more generic image
    # FIXME in future
    - 1.5.4
    jaegertracing/all-in-one:
    - '1.18' # istio 1.7.8
    docker.io/jboss/keycloak: # XXX jboss/keycloak
    - 9.0.0
    jettech/kube-webhook-certgen:
    - v1.2.1
    quay.io/kiali/kiali: # XXX kiali/kiali
    - v1.22 # istio 1.7.8
    kiwigrid/k8s-sidecar:
    - 0.1.151
    openjdk: # Provides keytool, required for site-init setup # XXX library/openjdk
    - 11-jre-slim
    library/redis:
    - 5.0-alpine
    redis: # XXX library/redis
    - 5.0-alpine3.12
    vault: # XXX library/vault
    - 1.5.5
    metallb/controller:
    - v0.8.1
    metallb/speaker:
    - v0.8.1
    nfvpe/multus:
    - v3.1
    demisto/boto3py3:
    - '1.0.0.16140'
    openpolicyagent/gatekeeper:
    - v3.1.1
    openpolicyagent/opa:
    - 0.24.0-envoy-1
    docker.io/prom/prometheus: # XXX prom/prometheus
    - v2.19.2 # istio 1.7.8
    prom/pushgateway:
    - v0.8.0
    prom/statsd-exporter:
    - v0.18.0
    #- v0.10.5
    quay.io/prometheus/alertmanager: # Used by alertmanager-cray-sysmgmt-health-promet-alertmanager pods # XXX prometheus/alertmanager
    - v0.20.0
    prometheus/node-exporter:
    - v1.0.0
    prometheus/prometheus: # Used by prometheus-cray-sysmgmt-health-promet-prometheus pods
    - v2.18.1
    roffe/kube-etcdbackup:
    - v0.1.0
    sonatype/nexus3:
    - 3.25.0 # update platform.yaml cray-precache-images with this
    squareup/ghostunnel:
    - v1.5.2
    strimzi/kafka: # Used by cray-shared-kafka-zookeeper pods
    - 0.15.0-kafka-2.2.1
    - 0.15.0-kafka-2.3.1
    strimzi/operator:
    - 0.15.0
    tutum/curl:
    # FIXME: Upstream operator pins to latest
    - latest
    docker.io/unguiculus/docker-python3-phantomjs-selenium: # XXX unguiculus/docker-python3-phantomjs-selenium
    - v1
    velero/velero:
    - v1.5.2
    velero/velero-plugin-for-aws:
    - v1.1.0
    velero/velero-restic-restore-helper:
    - v1.5.2
    docker.io/weaveworks/weave-kube: # XXX weaveworks/weave-kube
    - 2.8.0
    docker.io/weaveworks/weave-npc: # XXX weaveworks/weave-npc
    - 2.8.0
    zeromq/zeromq:
    - v4.0.5

    # gcr.io images
    gcr.io/spiffe-io/oidc-discovery-provider: # XXX spiffe-io/oidc-discovery-provider
    - 0.12.2
    gcr.io/spiffe-io/spire-agent: # XXX spiffe-io/spire-agent
    - 0.12.2
    gcr.io/spiffe-io/spire-server: # XXX spiffe-io/spire-server
    - 0.12.2
    sdlc-ops/wait-for-it:
    - "20210322"

    # k8s.gcr.io images
    k8s.gcr.io/coredns:
    - 1.6.7
    k8s.gcr.io/kube-apiserver-amd64: # XXX k8s.gcr.io/kube-apiserver
    - v1.18.6
    k8s.gcr.io/kube-controller-manager-amd64: # XXX k8s.gcr.io/kube-controller-manager and kube-controller-manager
    - v1.18.6
    k8s.gcr.io/kube-proxy-amd64: # XXX k8s.gcr.io/kube-proxy
    - v1.18.6
    k8s.gcr.io/kube-scheduler-amd64: # XXX k8s.gcr.io/kube-scheduler
    - v1.18.6
    k8s.gcr.io/metrics-server:
    # FIXME A chart uses dtr.dev.cray.com/k8s.gcr.io/metrics-server:v0.3.6 but
    # FIXME it should instead use k8s.gcr.io/metrics-server:v0.3.6.
    - v0.3.6
    k8s.gcr.io/node-problem-detector:
    - v0.8.0
    k8s.gcr.io/pause:
    - '3.1'
    # FIXME A chart uses dtr.dev.cray.com/k8s.gcr.io/pause:3.2 but it should
    # FIXME instead use k8s.gcr.io/pause:3.2.
    - '3.2' # update platform.yaml cray-precache-images with this

    # quay.io images
    bitnami/sealed-secrets-controller:
    - v0.12.1
    ceph/ceph:
    - v15.2.8
    quay.io/cephcsi/cephcsi: # XXX cephcsi/cephcsi
    - v3.1.1
    quay.io/coreos/configmap-reload: # XXX coreos/configmap-reload
    - v0.0.1
    coreos/etcd:
    - v3.3.22
    coreos/kube-state-metrics:
    - v1.9.6
    coreos/prometheus-config-reloader:
    - v0.38.1
    coreos/prometheus-operator:
    - v0.38.1
    jetstack/cert-manager-cainjector:
    - v0.14.1
    jetstack/cert-manager-controller:
    - v0.14.1
    jetstack/cert-manager-webhook:
    - v0.14.1
    quay.io/k8scsi/csi-attacher: # XXX k8scsi/csi-attacher
    - v2.1.1
    quay.io/k8scsi/csi-node-driver-registrar: # XXX k8scsi/csi-node-driver-registrar
    - v1.3.0
    quay.io/k8scsi/csi-provisioner: # XXX k8scsi/csi-provisioner
    - v1.6.0
    quay.io/k8scsi/csi-resizer: # XXX k8scsi/csi-resizer
    - v0.5.0
    quay.io/k8scsi/csi-snapshotter: # XXX k8scsi/csi-snapshotter
    - v2.1.0
    - v2.1.1
    quay.io/keycloak/keycloak-gatekeeper: # XXX keycloak/keycloak-gatekeeper
    - 9.0.0
    quay.io/sighup/gatekeeper-policy-manager: # XXX sighup/gatekeeper-policy-manager
    - v0.4.0

    # registry.opensource.zalan.do images
    acid/spilo-12: # Used by Postgres pods (created by operator)
    - 1.6-p3
    registry.opensource.zalan.do/acid/pgbouncer: # Used in cray-service chart as connectionPooler image
    - master-17

# XXX dtr.dev.cray.com/cray
arti.dev.cray.com/csm-docker-stable-local:
  tls-verify: true
  images:
    cfs-hwsync-agent:
    - 1.4.9
    cfs-trust:
    - 1.1.9
    cray-aee:
    - 0.9.11
    cray-boa:
    - 0.7.13
    cray-bos:
    - 1.7.20
    cray-bss:
    - 1.7.5
    cray-bss-ipxe:
    - 1.6.14
    cray-capmc:
    - 1.23.6
    cray-cfs:
    - 1.6.16
    cray-cfs-batcher:
    - 0.6.10
    cray-cfs-operator:
    - 1.11.27
    cray-conman:
    - 0.4.6
    cray-crus:
    - 1.6.2
    cray-dhcp-kea:
    - 0.4.21
    cray-dns-unbound:
    - 0.2.18 # update platform.yaml cray-precache-images with this
    cray-firmware-action:
    - 1.7.10
    cray-hbtd:
    - 1.10.5
    cray-hmnfd:
    - 1.7.4
    cray-ims-kiwi-ng-opensuse-x86_64-builder:
    - 0.4.3
    cray-ims-service:
    - 3.1.19
    cray-ims-sshd:
    - 1.1.2
    cray-ims-utils:
    - 2.4.11
    cray-ims-load-artifacts:
    - 1.1.8
    cray-csm-sles15sp2-barebones-recipe:
    - 1.1.4
    cray-keycloak-setup:
    - 0.12.5  # keycloak-vcs-user
    - 0.12.6  # keycloak-setup, keycloak-users-localize
    cray-meds:
    - 1.14.8
    cray-nexus-setup:
    #- 0.3.2 # TODO Replace with 0.5.2
    #- 0.4.0 # TODO Replace with 0.5.2
    - 0.5.2
    cray-node-discovery:
    - 0.1.3
    cray-product-catalog-update:
    - 0.1.3
    - 0.2.0
    cray-reds:
    - 1.18.4
    cray-scsd:
    - 1.5.1
    cray-sls:
    - 1.8.9
    cray-smd:
    - 1.28.16
    cray-sonar:
    - 0.1.0
    cray-spire-bundle:
    - 0.1.0
    cray-spire-intermediate:
    - 0.1.1
    cray-spire-tokens:
    - 0.4.0
    cray-sts:
    - 0.3.2
    cray-tftpd:
    - 0.4.8
    cray-uas-mgr:
    - 1.11.7
    cray-uai-broker:
    #- latest # TODO Replace with 1.2.1
    - 1.2.1
    cray-uai-sles15sp1:
    #- latest # TODO Replace with 1.0.6
    - 1.0.6
    craycli:
    - 0.40.5
    csm-ssh-keys:
    - 1.1.6
    csm-config:
    - 1.5.8
    etcd-operator:
    - 0.12.1-cray
    hms-discovery:
    - 1.5.3
    hms-hmcollector:
    - 2.10.4
    hms-redfish-translation-service:
    - 1.11.5
    hms-shcd-parser:
    - 1.1.1
    hms-trs-operator:
    - 1.4.3
    kube-controller-manager:
    - v1.18.6
    pilot: # Istio pilot image
    - 1.7.8-cray1 # istio 1.7.8
    proxyv2: # Istio proxyv2 image
    - 1.7.8-cray1 # istio 1.7.8; update platform.yaml cray-precache-images with this.
    operator: # Istio operator image
    - 1.7.8-cray1 # istio 1.7.8
    postgres-operator:
    - 1.8.0
    postgres-operator-ui:
    - 1.8.0

    docker-kubectl: # XXX loftsman/docker-kubectl
    - 0.2.0
    #- latest # TODO Replace with 0.2.0
    loftsman: # XXX loftsman/loftsman
    # cray-product-catalog depends on this as well
    - 0.5.1
    #- latest # TODO Replace with 0.5.1

# dtr.dev.cray.com/cray
arti.dev.cray.com/analytics-docker-stable-local:
  tls-verify: true
  images:
    pvc-migrator:
    - 0.1.0

# dtr.dev.cray.com/cray
arti.dev.cray.com/shasta-docker-stable-local:
  tls-verify: true
  images:
    cray-trustedcerts-operator:
    - 0.1.1
    hms-pytest:
    - 1.1.1

# dtr.dev.cray.com/cray
arti.dev.cray.com/wlm-slurm-docker-stable-local:
  tls-verify: true
  images:
    munge-munge:
    - 0.1.0

# dtr.dev.cray.com/cray
arti.dev.cray.com/internal-docker-stable-local:
  tls-verify: true
  images:
    packaging-tools: # Provides various packaging tools
    - 0.5.0
    rpm-tools: # Provides createrepo and reposync tools
    - 1.0.0

arti.dev.cray.com/docker-remote:
  tls-verify: true
  images:
    library/busybox:
    - 1.28.0-glibc  # Used by EtcdClusters

quay.io:
  images:
    skopeo/stable:
    - latest
